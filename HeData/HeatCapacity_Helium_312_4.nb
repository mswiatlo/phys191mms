(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 6.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[     12451,        341]
NotebookOptionsPosition[     11643,        310]
NotebookOutlinePosition[     11981,        325]
CellTagsIndexPosition[     11938,        322]
WindowFrame->Normal
ContainsDynamic->False*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"Quit", "[", "]"}]], "Input",
 CellChangeTimes->{{3.447511893266839*^9, 3.44751189692098*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"rawdata", " ", "=", 
   RowBox[{"Import", "[", 
    RowBox[{
    "\"\</Users/stevenschowalter/Desktop/phys191mms/HeData/mms_He_312run4.txt\
\>\"", ",", "\"\<Table\>\""}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.446144853449605*^9, 3.446144996819272*^9}, {
  3.446168139560379*^9, 3.446168147291663*^9}, {3.4461682464077797`*^9, 
  3.446168246684882*^9}, {3.446168289533023*^9, 3.446168315919455*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"num", "=", 
  RowBox[{
   RowBox[{"Dimensions", "[", "rawdata", "]"}], "[", 
   RowBox[{"[", "1", "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.446145004944509*^9, 3.4461450542232037`*^9}, {
   3.4461452641283092`*^9, 3.446145291739963*^9}, 3.446168345481247*^9}],

Cell[BoxData["203"], "Output",
 CellChangeTimes->{3.44616834617869*^9, 3.447511903726994*^9}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"time", "=", 
   RowBox[{"Take", "[", 
    RowBox[{"rawdata", ",", "All", ",", 
     RowBox[{"{", "3", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"voltage", "=", 
   RowBox[{"Take", "[", 
    RowBox[{"rawdata", ",", "All", ",", 
     RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pulse", "=", 
   RowBox[{"Take", "[", 
    RowBox[{"rawdata", ",", "All", ",", 
     RowBox[{"{", "1", "}"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.446145056725381*^9, 3.44614510364865*^9}, {
  3.446145135544189*^9, 3.4461451484689293`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"temp", "=", 
   RowBox[{"Table", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "num"}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.446312076798748*^9, 3.44631209697974*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Do", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"temp", "[", 
      RowBox[{"[", "i", "]"}], "]"}], "=", 
     RowBox[{"\[ExponentialE]", "^", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "0.004995"}], "*", 
         RowBox[{
          RowBox[{"Log", "[", 
           RowBox[{"1000", "*", 
            RowBox[{"voltage", "[", 
             RowBox[{"[", "i", "]"}], "]"}]}], "]"}], "^", "3"}]}], "+", 
        RowBox[{"0.1314", "*", 
         RowBox[{
          RowBox[{"Log", "[", 
           RowBox[{"1000", "*", 
            RowBox[{"voltage", "[", 
             RowBox[{"[", "i", "]"}], "]"}]}], "]"}], "^", "2"}]}], "-", 
        RowBox[{"1.43", 
         RowBox[{"Log", "[", 
          RowBox[{"1000", "*", 
           RowBox[{"voltage", "[", 
            RowBox[{"[", "i", "]"}], "]"}]}], "]"}]}], "+", "5.92"}], 
       ")"}]}]}], ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "num"}], "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.44631210020002*^9, 3.446312114773869*^9}, {
  3.44631241711744*^9, 3.446312418295904*^9}, {3.44631734028125*^9, 
  3.44631735178125*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"timetemp", "=", 
   RowBox[{"Table", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "num"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Do", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"timetemp", "[", 
     RowBox[{"[", "i", "]"}], "]"}], "=", 
    RowBox[{"Flatten", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"time", "[", 
         RowBox[{"[", "i", "]"}], "]"}], ",", 
        RowBox[{"temp", "[", 
         RowBox[{"[", "i", "]"}], "]"}]}], "}"}], ",", "2"}], "]"}]}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "1", ",", "num"}], "}"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.446312140361793*^9, 3.44631215103242*^9}, {
  3.446312732815593*^9, 3.446312747093049*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListPlot", "[", "timetemp", "]"}]], "Input"],

Cell[BoxData[
 GraphicsBox[{{}, 
   {Hue[0.67, 0.6, 0.6], PointBox[CompressedData["
1:eJxd1ntczPkex/FETZFQSRFmamqq6TYzrEvW711ruiBFV8RorGqTIosctPZI
KpeHTS05EbVORdsWbdZ1a7GsSxIO6dDZpQ5tFx2pJOz3nDnfzx/7R48en8dv
vs9e32+/+T1+Em3ighX6enp6N9jPf38PlHTVB2iDhHQ7nweW3iJ4L2uus208
I9yZNmDp7CtCx2Zh8tKzvwgZm/Qian1EeCw1/DLnk7tCv77E9y2bZ+2M//fb
kgaa7ye/cFAY/UswXpAzbxZbb1Rqs+hTz6dCZdrBuW3sumdT4O79CS1C1MZE
/0I2J5ptq75+9IUQfXNTei+bC9RVr97daxNUovSu6Wx93PnP91kNeSkMFBvc
3cWuDwkzdT15qEuorricWsbmw51FP8+Z8kqITEtOKmGfn5LhxXbQLcgfP55p
4CfCHdvGNylxPcKrtvasIvL6hIX/zFRrfbn3RthanD38oi/33gptT8R9WeQN
CC+HW0/2Iu+98PCH+d1H2XV2OP4m+noIyqk4EcBmffkOy4ZaPUjPDF5wgs23
e4OfHvvbIGQevmbwgfXmXRaXJ8Xqo87525QLbI79qp2d8GBcip27qtWHe0Ng
Ur74rQ15Q5BW8B/HSB/uGWC08YHVWeQZ0nqdJwI/b51nhPDYpp1XyDNCZuKB
hbupzxhD65+IisgbitDx67VGvtwbhnrjkODJtF8TlF0rTFtKngnKDbqSGqlv
OISFEeUzfblnijGLfhCvJW8E9Y5zZ3fUoJHYvNSzI4jN7ObaGR8zEg+OWN2/
z2Z2c3XV3xqJb6WVg6rYPE87MmLapFHI356x5JWa7fPa+ov5B0eheugKdama
e2boj00f16vmnhkulFkYrldzzww/H0+f8VrNPXMsrE7v7yPP/E+eBQ4E3XQx
pz4LrB5VZJFBfRZYuUtmb0t9o+k8dd5ohLZbv/yN9muJg30VZS3kWdJ56jxL
bMle3p5L3hhIGv7ueIy8MeTrPCvYlAQ8j/DlnhVOVmZkK8izQvJIeaK3L/es
MSwk81gpedaYLTsVF0HeWDztPfNoAnljwb+POm8sjCymRTiQNw6L859tcPPj
3jh8V7MnMN6PezbYe9ir+h15NoiOTi1b58c9G2hFctkDP+6Nx1qRpcke8sZj
ln+EewJ5E9DsVuN4xo97ExDfHrRnA3lsXq6WvqC+iWgv9Fq5n7yJqKmaWVLB
ZvYwMtumJ8aNuYVG59hcc/2oukolhsNx65Y+Nne/u5f8IloMp4uWogY2yxTs
iXZQDPeX2T29/iKwh1tT4C0xnt/uPvhZGPckCCx/dKEmgnsSpHm3TjEN554E
yrjTE/pCuSdBalWQ2iqMexJozjUZa8mzxfl1RpNnhHHPFnrXc/5qH8Y9W/wl
YsP7eyHcs4V0dPq8vBDu2WKpg9GNnFDu2WFGcvbd06Hcs8Ojx5PPSsizg/7Z
IYOzqM8Ouas2vhOozw6fxNcu/5E8KVIqFjwMJE+KzDrD2PBQ7klR3eTftIY8
KWJeRpq7kifF1vhJEkPy7OnzOs8ezcbiG+/Is0fCrDlHbpJnj/jmjjzvUO7Z
wzRckdFEngM6Ti/UlJHnAO8MTWoteQ6wjQ1Z84TOzwGVt2een0+eA74JKPbz
I0+GS9ue5irIk+FDy5UtKvJk6P290jyFPBmqj0f37aX/hwzHiwtm+4ZwzxFJ
P507sjyEe47093SeI63XeY74OmhLg4Y8R3QEZ19JDeaeE7Jn27/2JM+JfJ3n
BO/j5Re3keeEUQYne1qCueeEhIKBmBjqc0ZPQNp5E/KcUf3Ia/6hYO45o/Di
F6+NyHPGfg/Hy1epzxlppsMUu8mT06zz5Jj4D2PPV9QnR6T/s6m/kSdHx5vO
j+6QJ//T/exC56XzXGCSNF15mDwXWq/zXDC123Xj+CDuueCsfMTe8zHccwXW
LR52L5Z7rliSeeGJXjT3XLGjvtdO9in3XDHj7P6mKi33XOGfWdk2Xcs9N2xN
7jON0nLPDV/13GsO1HLPDYmddQP5Wu65oaqq9tzlKO654cjDu2tWRHHPHUnO
GStHR3HPHe2L5ueaLuOeOwoHTrUc03DPHTYFflXNS7nnDmF2lOsvbL46h73h
6Hmg+TuvsU/Y/L/XP2sPVIxvvZPD5v4U9sak8kCnNPJjsJm9PIWZBnhgh7hw
zXs2s5enzqJoD7hFxfzoz72tHqjL377r1JL/e7keqCktXSDn3ikPNG5ZIe7i
3i22/lnj2kDutXjgcYlLyiDqU+DjnJ3rrnHPWoFL+r5WW6hPgbIvnUeEU58C
XYoRrROpT4E2fXnBVOpT4H6lf3k932+uAs/3/9ot0vA+Be1f16fAuYYYn6vU
p0Cq84RV0zS8T4mnrScuRdL5KVFctz75EvUp8euh8O8TNLxPiVrDE3UKDe9T
Im/f0Jat1KfEjbTdi+dpeJ8S/VlfhOTT+SmxZ9ag3/dRnxKLO7xXPKQ+JaTT
Awoly3ifCr3Dyp22f877VOh/1jlXto73qfC1xeaP3q7mfSqY17l/Ni+B96mw
6f4dS+0q3qeC+Jujnm6reJ8K66Psx76I533s+oCTtC6e96nQ2lPUmLSS96ng
ee1DqWYl75sE8+7TsSfieN8kZBQrzfLieN8k5EU+25nPvn9/AFhTL/Y=
     "]]}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->True,
  AxesOrigin->{0, 2.91},
  PlotRange->{{0., 20.201}, {2.907270128086058, 2.932203866072652}},
  PlotRangeClipping->True,
  PlotRangePadding->{
    Scaled[0.02], 
    Scaled[0.02]}]], "Output",
 CellChangeTimes->{3.447512007282036*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"Q", "=", 
   RowBox[{
    FractionBox[
     SuperscriptBox["10.5", "2"], "1116"], 
    SuperscriptBox["10", 
     RowBox[{"-", "2"}]]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.446474147624721*^9, 3.4464741642071123`*^9}, {
   3.446484499651105*^9, 3.4464844998413153`*^9}, 3.4475094506039143`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"threshold", "=", ".002"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"threshold2", "=", ".001"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"dT", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Do", "[", 
  RowBox[{
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"temp", "[", 
        RowBox[{"[", 
         RowBox[{"i", "+", "1"}], "]"}], "]"}], "[", 
       RowBox[{"[", "1", "]"}], "]"}], ">", 
      RowBox[{
       RowBox[{
        RowBox[{"temp", "[", 
         RowBox[{"[", "i", "]"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}], "+", "threshold2"}]}], ",", 
     RowBox[{"{", 
      RowBox[{"dT", "=", 
       RowBox[{"Join", "[", 
        RowBox[{"dT", ",", 
         RowBox[{"{", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"temp", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"Q", "/", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{
                 RowBox[{"Mean", "[", 
                  RowBox[{"Take", "[", 
                   RowBox[{"temp", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"i", "-", "10"}], ",", "i"}], "}"}]}], "]"}], 
                  "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], "+", 
               RowBox[{
                RowBox[{"Mean", "[", 
                 RowBox[{"Take", "[", 
                  RowBox[{"temp", ",", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"i", "+", "50"}], ",", 
                    RowBox[{"i", "+", "80"}]}], "}"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], "}"}], "}"}]}], 
        "]"}]}], "}"}]}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "10", ",", 
     RowBox[{"num", "-", "80"}]}], "}"}]}], "]"}], "\n", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"dT", ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}], ",", 
   RowBox[{"Frame", "\[Rule]", "True"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.446472393736125*^9, 3.446472432453842*^9}, {
  3.4464725416634493`*^9, 3.44647254638787*^9}, {3.44647258922233*^9, 
  3.446472594595265*^9}, {3.446472630415146*^9, 3.446472635212124*^9}, {
  3.446472679309308*^9, 3.446472680821033*^9}, {3.446472740277619*^9, 
  3.446472740548834*^9}, {3.4464727842973623`*^9, 3.4464727847572107`*^9}, {
  3.4464730570223427`*^9, 3.446473104424076*^9}, {3.4464731843506737`*^9, 
  3.44647323096985*^9}, {3.44647355623556*^9, 3.446473580347599*^9}, {
  3.4464737934451714`*^9, 3.446473807136621*^9}, {3.446473841101801*^9, 
  3.4464738838014603`*^9}, {3.446474133173984*^9, 3.446474144973983*^9}, {
  3.446474218999695*^9, 3.446474236934718*^9}, {3.446477283474423*^9, 
  3.4464772849679956`*^9}, {3.44648451285093*^9, 3.446484514165214*^9}, {
  3.44750945697884*^9, 3.447509458092125*^9}, {3.447512217508613*^9, 
  3.447512226462462*^9}, {3.447512285015736*^9, 3.447512306331654*^9}}],

Cell[BoxData[
 GraphicsBox[{{}, 
   {Hue[0.67, 0.6, 0.6], 
    PointBox[{{2.911117483539804, 0.09955077596683105}, {2.917193613620828, 
     0.10444897104253234`}}]}, {}},
  AspectRatio->NCache[GoldenRatio^(-1), 0.6180339887498948],
  Axes->True,
  AxesOrigin->{2.911, 0.1},
  Frame->True,
  PlotRange->{All, All},
  PlotRangeClipping->True,
  PlotRangePadding->{Automatic, Automatic}]], "Output",
 CellChangeTimes->{{3.447512228649633*^9, 3.447512233646102*^9}, {
  3.4475122902053413`*^9, 3.447512306942396*^9}}]
}, Open  ]]
},
WindowSize->{640, 605},
WindowMargins->{{121, Automatic}, {Automatic, 55}},
FrontEndVersion->"6.0 for Mac OS X x86 (32-bit) (April 20, 2007)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[568, 21, 117, 2, 27, "Input"],
Cell[688, 25, 443, 9, 73, "Input"],
Cell[CellGroupData[{
Cell[1156, 38, 289, 6, 27, "Input"],
Cell[1448, 46, 93, 1, 27, "Output"]
}, Open  ]],
Cell[1556, 50, 637, 17, 58, "Input"],
Cell[2196, 69, 248, 7, 27, "Input"],
Cell[2447, 78, 1163, 33, 88, "Input"],
Cell[3613, 113, 784, 24, 43, "Input"],
Cell[CellGroupData[{
Cell[4422, 141, 68, 1, 27, "Input"],
Cell[4493, 144, 3091, 56, 226, "Output"]
}, Open  ]],
Cell[7599, 203, 334, 9, 49, "Input"],
Cell[CellGroupData[{
Cell[7958, 216, 3152, 76, 163, "Input"],
Cell[11113, 294, 514, 13, 236, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
